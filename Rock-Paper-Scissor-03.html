<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissor</title>
</head>
<body>
    <p>Rock Paper Scissors basic</p>
    <button onclick="win_loose_tieCount('rock');">Rock</button>
    <button onclick="win_loose_tieCount('paper');">Paper</button>
    <button onclick="win_loose_tieCount('scissor');">Scissor</button>

    <p class="js-score"></p>

    <button onclick="score.win=0;
    score.loose=0;
    score.tie=0;
    localStorage.removeItem('score');">ResetResult</button>
    <script>
    
   let score=JSON.parse(localStorage.getItem('score'))||{
            win:0,
            loose:0,
            ties:0
    };

   
    function win_loose_tieCount(playMove)
    {
        const result=decideResult(playMove);
        if(result==='loose')
        {
            score.loose+=1;
        }
        else if(result==='win')
        {
            score.win+=1;
        }
        else if(result==='tie')
        {
            score.tie+=1;
        }
        localStorage.setItem('score',JSON.stringify(score));
        scoreElement();
    }
    function decideResult(playMove)
    {
    m=pickComputerMove();
    if(playMove==='scissor')
    {
    if(m==='rock')
    { alert(`Your Move:${playMove} ComputerMove:${m} -'You loose'`);
    return 'loose'}
    if(m==='paper')
    { alert(`Your Move:${playMove} ComputerMove:${m} -'You Win'`);
    return 'win'}
    if(m==='scissor')
    { alert(`Your Move:${playMove} ComputerMove:${m} -'You Tie'`);
    return 'tie'}
    }
    else if(playMove==='paper')
    {
        if(m==='rock')
        { alert(`Your Move:'Paper' ComputerMove:${computermove} -'You Win'`);
        return 'win'}
        if(m==='paper')
        { alert(`Your Move:'Paper' ComputerMove:${computermove} -'You Tie'`);
        return 'tie'}
        if(m==='scissor')
        { alert(`Your Move:'Paper' ComputerMove:${computermove} -'You Loose' `);
        return 'loose'}
    }
    else if(playMove==='rock')
    {
    if(m==='rock')
    { alert(`Your Move:'Rock' ComputerMove:${computermove}- 'You Tie'`);
    return 'tie'}
    if(m==='paper')
    { alert(`Your Move:'Rock' ComputerMove:${computermove}- 'You Loose'`);
    return 'loose'}
    if(m==='scissor')
    { alert(`Your Move:'Rock' ComputerMove:${computermove}- 'You Win' `);
    return 'win'}
    }
    }
    function pickComputerMove()
    {
    const move = Math.random();
    if(move>=0 && move<1/3)
    {
        computermove='rock';
    }
    else if(move>=1/3 && move<2/3)
    {
        computermove='paper';
    }
    else if(move>=2/3 && move<1)
    {
        computermove='scissor';
    }
    return computermove;
    }

    function scoreElement()
    {
        document.querySelector('.js-score').innerHTML=`Win:${score.win} Loose:${score.loose} Tie:${score.tie}`;
    }
    </script>
    
</body>
</html>